{
  "apiVersion": "grizzly.grafana.com/v1alpha1",
  "kind": "AlertRuleGroup",
  "metadata": {
    "name": "softwlc.SoftWLC"
  },
  "spec": {
    "folderUid": "softwlc",
    "interval": 60,
    "rules": [
      {
        "annotations": {
            "description": "Проверьте логи и метрики сервиса {{ $labels.application }}.",
            "summary": "Уровень использования Heap сервиса {{ $labels.application }} больше 80%"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Потребляемый hava heap",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum by (application)(jvm_memory_used_bytes{area=\"heap\"})*100/sum by (application)(jvm_memory_max_bytes{area=\"heap\"})",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Потребляемый hava heap"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        80
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Потребляемый hava heap",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Heap Usage",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },      
      {
        "annotations": {
            "summary": "Уровень использования CPU сервиса {{ $labels.application }} больше 80%"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Процент использования CPU",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum by (application) (system_cpu_usage) *100",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Процент использования CPU"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        80
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Процент использования CPU",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "1m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "CPU Usage",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Уровень открытых файловых дескрипторов сервиса {{ $labels.application }} больше 10%"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Процент открытых файловых дескрипторов",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum by (application)(process_files_open_files)*100/sum by (application)(process_files_max_files)",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Процент открытых файловых дескрипторов"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        10,
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": []
                    },
                    "reducer": {
                      "params": [],
                      "type": "avg"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "name": "Expression",
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Процент открытых файловых дескрипторов",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "1m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Open File Descriptors",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Уровень Load Average сервиса {{ $labels.application }} больше 80%"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Уровень Load Average",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum by (application)(system_load_average_1m) / sum by (application)(system_cpu_count)",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Уровень Load Average"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        80
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Уровень Load Average",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
        ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "1m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Load Average Usage",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Время обработки запросов сервиса Eltex-APB превысило 5 секунд"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Время обработки запросов сервиса Eltex-APB",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum(rate(request_seconds_sum{application=\"APB\"}[2m]))/sum(rate(request_seconds_count{application=\"APB\"}[2m]))",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Время обработки запросов сервиса Eltex-APB"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        5
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Время обработки запросов сервиса Eltex-APB",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "1m",
        "noDataState": "OK",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "APB Request Latency",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Сервис Eltex-Jobs - ошибка в формировании отчета"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост ошибок в формировании отчетов Eltex-jobs",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "rate(spring_batch_job_seconds_count{application=\"jobs\", status=\"FAILED\"}[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост ошибок в формировании отчетов Eltex-jobs"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост ошибок в формировании отчетов Eltex-jobs",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "0s",
        "noDataState": "OK",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-Jobs report error",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Время ответа от сервиса Eltex-mercury превысило 5 секунд"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Задержка Mercury GRPC",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "sum(rate(grpc_server_calls_seconds_sum[$__rate_interval])) / sum(rate(grpc_server_calls_seconds_count[$__rate_interval]))",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Задержка Mercury GRPC"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        5
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Задержка Mercury GRPC",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "OK",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Mercury GRPC calls latency",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет количество неуспешных портальных авторизаций"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Частота неудачных авторизаций",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "rate(portal_authorization_completed_total{status=\"failed\"}[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Частота неудачных авторизаций"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Частота неудачных авторизаций",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Portal Auth Failed",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "description": "Рекомендуется проверить логи сервиса eltex-pcrf",
            "summary": "Выросло количество ошибок CoA в сервисе eltex-pcrf"
        },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Доля ошибок CoA",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "rate(CoAMetrics_error_total[$__rate_interval])/rate(CoAMetrics_processed_total[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Доля ошибок CoA"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Доля ошибок CoA",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "OK",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "PCRF CoA error ratio increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "description": "Рекомендуется проверить логи сервиса eltex-pcrf",
            "summary": "Ошибки обработки авторизаций в сервисе eltex-pcrf"
        },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Ошибки обработки авторизации eltex-pcrf",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "AuthMetrics_command_awaiting",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Ошибки обработки авторизации eltex-pcrf"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Ошибки обработки авторизации eltex-pcrf",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "PCRF Auth await increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "description": "Рекомендуется проверить логи сервиса eltex-pcrf",
            "summary": "Ошибки обработки аккаунтинга в сервисе eltex-pcrf"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Ошибки обработки аккаунтинга eltex-pcrf",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "AcctMetrics_command_awaiting",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Ошибки обработки аккаунтинга eltex-pcrf"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Ошибки обработки аккаунтинга eltex-pcrf",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "PCRF Acct await increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "description": "Рекомендуется проверить логи сервиса eltex-pcrf",
            "summary": "Ошибки обработки авторизаций в связке сервисов eltex-pcrf + eltex-radius"
        },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Ожиданий ответа от связки сервисов eltex-pcrf и eltex-radius",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "FreeradiusVerticle_auth_awaiting",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Ожиданий ответа от связки сервисов eltex-pcrf и eltex-radius"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Ожиданий ответа от связки сервисов eltex-pcrf и eltex-radius",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "PCRF Freeradius await increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет длина очереди запросов авторизаций на eltex-radius"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Скорость роста очереди запросов авторизаций",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(freeradius_queue_len_auth[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Скорость роста очереди запросов авторизаций"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Скорость роста очереди запросов авторизаций",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius queue length auth increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет длина очереди запросов detail на eltex-radius"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Скорость роста очереди запросов detail",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(freeradius_queue_len_detail[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Скорость роста очереди запросов detail"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Скорость роста очереди запросов detail",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius queue length detail increased ",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет длина очереди запросов internal на eltex-radius"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Скорость роста очереди запросов internal",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(freeradius_queue_len_internal[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Скорость роста очереди запросов internal"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Скорость роста очереди запросов internal",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius queue length internal increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет длина очереди proxy запросов на eltex-radius"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Скорость роста очереди запросов проксирования",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(freeradius_queue_len_proxy[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Скорость роста очереди запросов проксирования"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Скорость роста очереди запросов проксирования",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius queue length proxy increased",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет количество ошибок в запросах авторизации"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Количество ошибок в запросах авторизации",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "( increase(freeradius_total_auth_dropped_requests[$__rate_interval]) +\n increase(freeradius_total_auth_duplicate_requests[$__rate_interval]) +\n increase(freeradius_total_auth_invalid_requests[$__rate_interval]) +\n increase(freeradius_total_auth_malformed_requests[$__rate_interval]) +\n increase(freeradius_total_auth_unknown_types[$__rate_interval]))",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Количество ошибок в запросах авторизации"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Количество ошибок в запросах авторизации",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "3m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius increase failed Authentication requests counters",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет количество ошибок в запросах проксирования авторизации"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Количество ошибок в запросах проксирования авторизации",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "exemplar": false,
                "expr": "( increase(freeradius_total_proxy_auth_dropped_requests[$__rate_interval]) +\n increase(freeradius_total_proxy_auth_duplicate_requests[$__rate_interval]) +\n increase(freeradius_total_proxy_auth_invalid_requests[$__rate_interval]) +\n increase(freeradius_total_proxy_auth_malformed_requests[$__rate_interval]) +\n increase(freeradius_total_proxy_auth_unknown_types[$__rate_interval]))",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Количество ошибок в запросах проксирования авторизации"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Количество ошибок в запросах проксирования авторизации",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "3m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Eltex-radius increase failed Authentication Proxy counters",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет количество ошибок авторизации в сервисе NBI"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост ошибок авторизации NBI",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(nbi_requests_auth_total{code=\"FAILED\"}[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост ошибок авторизации NBI"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост ошибок авторизации NBI",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "3m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "NBI Authentication failed statuses requests increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Ошибки timeout connections в сервисе {{$labels.application}}."
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост timeout connections",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(hikaricp_connections_timeout_total{application=\"NBI\"}[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост timeout connections"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост timeout connections",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "NBI timeout connections increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет время ответа от NBI"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост времени ответа от NBI",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(nbi_response_time_seconds_max[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост времени ответа от NBI"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0.05
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост времени ответа от NBI",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "NBI Response max time increase ",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растёт количество ошибок обработчика {{$labels.handler}} EMS"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост количества ошибок обработчика EMS",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(increase(ems_handler_errors[15m])[30s])",
                "instant": true,
                "intervalMs": 10000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост количества ошибок обработчика EMS"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост количества ошибок обработчика EMS",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "EMS Handlers errors increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растёт очередь обработчика {{$labels.handler}} EMS"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Темп роста очереди обработчика EMS",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(ems_handler_queue_size[15m])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Темп роста очереди обработчика EMS"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        20
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Темп роста очереди обработчика EMS",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "3m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "EMS Handlers queue size increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет время работы обработчика {{$labels.handler}} EMS."
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Темп роста времени работы обработчика EMS",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "deriv(increase(ems_handler_work_time_seconds[15m])[2m:])",
                "instant": true,
                "intervalMs": 15000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Темп роста времени работы обработчика EMS"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0.3
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Темп роста времени работы обработчика EMS",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "EMS Handlers work time increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Зафиксирован рост количества ответов от Northbound со статусом {{ $labels.status}}."
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Ошибки в ответах Northbound",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(northbound_response_code_total{status=~\"300\"}[1m]) or increase(northbound_response_code_total{status=~\"4004\"}[1m])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Ошибки в ответах Northbound"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Ошибки в ответах Northbound",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "2m",
        "noDataState": "OK",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Northbound response with status 300 or 4004",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Растет время работы EMS монитора {{ $labels.monitor }}"
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост времени работы мониторов EMS",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(ems_monitor_process_s_seconds_sum[1m])",
                "instant": true,
                "intervalMs": 15000,
                "legendFormat": "__auto",
                "maxDataPoints": 1192,
                "range": false,
                "refId": "Рост времени работы мониторов EMS"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост времени работы мониторов EMS",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "5m",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "Increase EMS Monitor process time",
        "updated": "2025-07-11T19:25:37.000+07:00"
      },
      {
        "annotations": {
            "summary": "Ошибки timeout connections в сервисе {{$labels.application}}."
          },
        "condition": "Значение триггера",
        "data": [
            {
              "refId": "Рост timeout connections",
              "relativeTimeRange": {
                "from": 600,
                "to": 0
              },
              "datasourceUid": "peeper-metrics",
              "model": {
                "editorMode": "code",
                "expr": "increase(hikaricp_connections_timeout_total{application=\"EMS\"}[$__rate_interval])",
                "instant": true,
                "intervalMs": 1000,
                "legendFormat": "__auto",
                "maxDataPoints": 43200,
                "range": false,
                "refId": "Рост timeout connections"
              }
            },
            {
              "refId": "Значение триггера",
              "relativeTimeRange": {
                "from": 0,
                "to": 0
              },
              "datasourceUid": "__expr__",
              "model": {
                "conditions": [
                  {
                    "evaluator": {
                      "params": [
                        0
                      ],
                      "type": "gt"
                    },
                    "operator": {
                      "type": "and"
                    },
                    "query": {
                      "params": [
                        "C"
                      ]
                    },
                    "reducer": {
                      "params": [],
                      "type": "last"
                    },
                    "type": "query"
                  }
                ],
                "datasource": {
                  "type": "__expr__",
                  "uid": "__expr__"
                },
                "expression": "Рост timeout connections",
                "intervalMs": 1000,
                "maxDataPoints": 43200,
                "refId": "Значение триггера",
                "type": "threshold"
              }
            }
          ],
        "execErrState": "Error",
        "folderUID": "softwlc",
        "for": "0s",
        "noDataState": "NoData",
        "notification_settings": {
          "group_by": null,
          "mute_time_intervals": null,
          "receiver": "Telegram"
        },
        "orgID": 1,
        "ruleGroup": "SoftWLC",
        "title": "EMS timeout connections increase",
        "updated": "2025-07-11T19:25:37.000+07:00"
      }
     
    ],
    "title": "SoftWLC"
  }
}



