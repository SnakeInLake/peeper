      
# Версия API для механизма провижининга Grafana. Всегда 1.
apiVersion: 1

# Список источников данных, которые нужно создать. У нас он один.
datasources:
  # Имя, которое вы будете видеть в интерфейсе Grafana.
  - name: MyVictoriaMetrics
    
    # Тип плагина. Мы используем плагин для VictoriaMetrics.
    # ВАЖНО: нужно убедиться, что этот плагин есть в официальном образе Grafana 9.5.1
    type: victoriametrics-metrics-datasource
    
    # Уникальный идентификатор. ДОЛЖЕН БЫТЬ как в композе,
    # чтобы дашборды от клиента нашли его.
    uid: my-victoria-metrics
    
    # Внутренний адрес метрик в сети Docker, имя сервиса с композа. Порт стандарт
    url: http://my-victoria-metrics:8428
    
    # Тип доступа. 'proxy' означает, что запросы от браузера будут идти
    # через бэкенд Grafana, а не напрямую. Это стандарт и более безопасно.
    access: proxy
    
    # Устанавливаем этот источник данных как основной по умолчанию.
    isDefault: true
    
    # Говорим Grafana, что этот источник данных нельзя редактировать через UI.
    # Это лучшая практика для конфигураций, управляемых кодом.
    editable: false

    
