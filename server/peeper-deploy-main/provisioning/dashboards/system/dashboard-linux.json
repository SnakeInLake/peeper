{
  "apiVersion": "grizzly.grafana.com/v1alpha1",
  "kind": "Dashboard",
  "metadata": {
    "folder": "system",
    "name": "linux"
  },
  "spec": {
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations \u0026 Alerts",
          "type": "dashboard"
        }
      ]
    },
    "description": "System dashboard - Telegraf metrics",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "links": [
      {
        "asDropdown": false,
        "icon": "external link",
        "includeVars": false,
        "keepTime": false,
        "tags": [
          "overview"
        ],
        "targetBlank": false,
        "title": "Dashboards",
        "tooltip": "",
        "type": "dashboards",
        "url": ""
      }
    ],
    "panels": [
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 62044,
        "panels": [],
        "title": "Quick overview",
        "type": "row"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Время работы сервера от момента старта. Позволяет понять, как давно сервер перезагружался последний раз",
        "fieldConfig": {
          "defaults": {
            "decimals": 1,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 0,
          "y": 1
        },
        "id": 61858,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "none",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "system_uptime{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "system",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "uptime"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "Uptime",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Load Average за 5 минут. Показывает среднюю нагрузку на CPU со стороны сервисов. Если превышает число ядер в CPU, то это значит, что сервисам не хватает ресурсов CPU",
        "fieldConfig": {
          "defaults": {
            "decimals": 1,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 8
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 4,
          "y": 1
        },
        "id": 61859,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "system_load5{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "system",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "load5"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "LA medium",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Число zombie процессов, которые завершили работу, но не удалены из дерева процессов. Должно быть равно 0. Большое количество может тормозить систему",
        "fieldConfig": {
          "defaults": {
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 1
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 5
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 6,
          "y": 1
        },
        "id": 61862,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "processes_zombies{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "processes",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "zombies"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "Zombies",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Число процессов в системе. Не должно превышать /proc/sys/kernel/pid_max, иначе система не сможет создавать новые процессы",
        "fieldConfig": {
          "defaults": {
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 1
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 5
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 8,
          "y": 1
        },
        "id": 61864,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "processes_total{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "processes",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "total"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "Processes",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Число потоков в системе. Не должно превышать /proc/sys/kernel/threads-max, иначе система не сможет создавать новые потоки",
        "fieldConfig": {
          "defaults": {
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 1
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 5
                }
              ]
            },
            "unit": "none"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 10,
          "y": 1
        },
        "id": 61865,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "processes_total_threads{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "processes",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "total_threads"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "Threads",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Нагрузка на все ядра CPU, выраженная в процентах.",
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 70
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 12,
          "y": 1
        },
        "id": 61861,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "code",
            "expr": "cpu_usage_idle{host=\"$host\", cpu=\"cpu-total\"} * -1 +100",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "cpu",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "usage_idle"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                },
                {
                  "params": [
                    "* -1 + 100"
                  ],
                  "type": "math"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              },
              {
                "condition": "AND",
                "key": "cpu",
                "operator": "=",
                "value": "cpu-total"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "CPU usage",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Процент использования оперативной памяти. 90% - критическая цифра, при которой нужно срочно наращивать оперативную память сервера",
        "fieldConfig": {
          "defaults": {
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 70
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 14,
          "y": 1
        },
        "id": 61860,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "mem_used_percent{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "mem",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "used_percent"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "RAM usage",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Процент использования памяти подкачки (SWAP). В идеале должен стремиться к нулю, т.к. SWAP медленный по сравнению с RAM. Использование SWAP указывает на недостаток RAM",
        "fieldConfig": {
          "defaults": {
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 50
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 70
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 16,
          "y": 1
        },
        "id": 61863,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "swap_used_percent{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "swap",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "used_percent"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "Swap usage",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Процент использования файловой системы диска от корня. 90% - критическая цифра, при которой нужно срочно наращивать дисковую память сервера",
        "fieldConfig": {
          "defaults": {
            "decimals": 0,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 70
                },
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 2,
          "x": 18,
          "y": 1
        },
        "id": 61866,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "value",
          "graphMode": "none",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "disk_used_percent{host=\"$host\", path=\"/\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "disk",
            "policy": "default",
            "range": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "used_percent"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              },
              {
                "condition": "AND",
                "key": "path",
                "operator": "=",
                "value": "/"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "RootFS used",
        "type": "stat"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Процентное соотношение времени процессора, потраченное на ожидание ввода/вывода. При 20% и выше могут наблюдаться проблемы работоспособности системы. Необходим анализ скорости чтения/записи данных на диск",
        "fieldConfig": {
          "defaults": {
            "color": {
              "fixedColor": "rgb(31, 120, 193)",
              "mode": "fixed"
            },
            "decimals": 2,
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "rgba(245, 54, 54, 0.9)",
                  "value": 0
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 30
                },
                {
                  "color": "rgba(50, 172, 45, 0.97)",
                  "value": 40
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 4,
          "w": 4,
          "x": 20,
          "y": 1
        },
        "id": 61867,
        "maxDataPoints": 100,
        "options": {
          "colorMode": "none",
          "graphMode": "area",
          "justifyMode": "auto",
          "orientation": "horizontal",
          "percentChangeColorMode": "standard",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showPercentChange": false,
          "textMode": "auto",
          "wideLayout": true
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "builder",
            "expr": "cpu_usage_iowait{host=\"$host\", cpu=\"cpu-total\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "cpu",
            "policy": "default",
            "range": true,
            "rawQuery": false,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "usage_iowait"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "last"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              },
              {
                "condition": "AND",
                "key": "cpu",
                "operator": "=",
                "value": "cpu-total"
              }
            ],
            "useBackend": false
          }
        ],
        "title": "IOWait",
        "type": "stat"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 5
        },
        "id": 62045,
        "panels": [],
        "title": "CPU",
        "type": "row"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Детализированный процент использования CPU различными типами служб.\n\n%user: Процент использования ЦП, возникший при выполнении на уровне пользователя (приложения).\n\n%system: Процент использования ЦП, возникший при выполнении на уровне системы (ядра).\n\n%softirq: Процент использования ЦП, возникший при обслуживании запросов прерываний ядром.\n\n%iowait: Процент времени, в течение которого ЦП или ЦП простаивали, в течение которого система имела невыполненный запрос на дисковый ввод-вывод.\n\n%guest: Процент времени, затраченного виртуальным CPU.\n\n%nice: Процент времени, затраченного на выполнение задач с приоритетом ниже нормального",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byValue",
                "options": {
                  "op": "gte",
                  "reducer": "allIsZero",
                  "value": 0
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": true,
                    "tooltip": true,
                    "viz": false
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byValue",
                "options": {
                  "op": "gte",
                  "reducer": "allIsNull",
                  "value": 0
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": true,
                    "tooltip": true,
                    "viz": false
                  }
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 8,
          "w": 24,
          "x": 0,
          "y": 6
        },
        "id": 28239,
        "interval": "$inter",
        "options": {
          "dataLinks": [],
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max",
              "min"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "none"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "alias": "$tag_host: $col",
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "code",
            "expr": "cpu_usage_user{host=\"$host\", cpu=\"cpu-total\"}",
            "fullMetaSearch": false,
            "function": "mean",
            "groupBy": [
              {
                "interval": "auto",
                "params": [
                  "auto"
                ],
                "type": "time"
              },
              {
                "key": "host",
                "params": [
                  "tag"
                ],
                "type": "tag"
              }
            ],
            "hide": false,
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "cpu_percentageBusy",
            "policy": "default",
            "range": true,
            "rawQuery": true,
            "refId": "B",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "value"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "mean"
                }
              ]
            ],
            "tags": [],
            "useBackend": false
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_system{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "A"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_softirq{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "C"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_steal{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "D"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_nice{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "E"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_irq{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "F"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_iowait{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "G"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_guest{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "H"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "cpu_usage_guest_nice{host=\"$host\", cpu=\"cpu-total\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "I"
          }
        ],
        "title": "CPU usage",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Load Average за 5(short), 10(medium) и 15(long) минут. Показывает среднюю нагрузку на CPU со стороны сервисов за период времени",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 0,
          "y": 14
        },
        "id": 54694,
        "interval": "$inter",
        "options": {
          "dataLinks": [],
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max",
              "min"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "none"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "alias": "$tag_host: $col",
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "code",
            "expr": "system_load1{host=\"$host\"}",
            "fullMetaSearch": false,
            "function": "mean",
            "groupBy": [
              {
                "interval": "auto",
                "params": [
                  "auto"
                ],
                "type": "time"
              },
              {
                "key": "host",
                "params": [
                  "tag"
                ],
                "type": "tag"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "system_load1",
            "policy": "default",
            "range": true,
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "value"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "mean"
                }
              ]
            ],
            "tags": [],
            "useBackend": false
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "system_load5{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "B"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "system_load15{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "C"
          }
        ],
        "title": "Load averages",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Количество выполняемых (running), заблокированных (blocked), спящих (sleeping) и zombie процессов в системе.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byValue",
                "options": {
                  "op": "gte",
                  "reducer": "allIsZero",
                  "value": 0
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": true,
                    "tooltip": true,
                    "viz": false
                  }
                }
              ]
            },
            {
              "matcher": {
                "id": "byValue",
                "options": {
                  "op": "gte",
                  "reducer": "allIsNull",
                  "value": 0
                }
              },
              "properties": [
                {
                  "id": "custom.hideFrom",
                  "value": {
                    "legend": true,
                    "tooltip": true,
                    "viz": false
                  }
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 9,
          "w": 12,
          "x": 12,
          "y": 14
        },
        "id": 61852,
        "options": {
          "dataLinks": [],
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "none"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "alias": "$tag_host: $col",
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "code",
            "expr": "processes_running{host=\"$host\"}",
            "fullMetaSearch": false,
            "groupBy": [
              {
                "params": [
                  "$interval"
                ],
                "type": "time"
              },
              {
                "params": [
                  "null"
                ],
                "type": "fill"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "processes",
            "policy": "default",
            "range": true,
            "rawQuery": true,
            "refId": "B",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "blocked"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "mean"
                }
              ]
            ],
            "tags": [
              {
                "key": "host",
                "operator": "=~",
                "value": "/^$server$/"
              }
            ],
            "useBackend": false
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_blocked{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "A"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_sleeping{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "C"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_stopped{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "D"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_zombies{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "E"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_paging{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "F"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "processes_uncknown{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "G"
          }
        ],
        "title": "Processes",
        "type": "timeseries"
      },
      {
        "collapsed": false,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 23
        },
        "id": 62046,
        "panels": [],
        "title": "Memory",
        "type": "row"
      },
      {
        "datasource": {
          "type": "victoriametrics-metrics-datasource",
          "uid": "peeper-metrics"
        },
        "description": "Использование оперативной памяти.\n\ntotal - общий размер оперативной памяти\n\nused - память, использованная приложениями\n\ncached - память, закэшированная ОС\n\nfree - свободная неиспользованная память\n\nbuffered - временная буферизированная память\n\nНеобходимо следить по большей части за used памятью. И нужно помнить, что система при отсутствии free памяти может высвобождать часть cached памяти для приложений",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisBorderShow": false,
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "barWidthFactor": 0.6,
              "drawStyle": "line",
              "fillOpacity": 10,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": true,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": 0
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "bytes"
          },
          "overrides": [
            {
              "matcher": {
                "id": "byRegexp",
                "options": "/total/"
              },
              "properties": [
                {
                  "id": "color",
                  "value": {
                    "fixedColor": "#BF1B00",
                    "mode": "fixed"
                  }
                },
                {
                  "id": "custom.fillOpacity",
                  "value": 0
                },
                {
                  "id": "custom.lineWidth",
                  "value": 2
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 10,
          "w": 24,
          "x": 0,
          "y": 24
        },
        "id": 12054,
        "interval": "$inter",
        "options": {
          "dataLinks": [],
          "legend": {
            "calcs": [
              "mean",
              "lastNotNull",
              "max",
              "min"
            ],
            "displayMode": "table",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "hideZeros": false,
            "mode": "multi",
            "sort": "none"
          }
        },
        "pluginVersion": "12.1.0",
        "targets": [
          {
            "alias": "$tag_host: $col",
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "disableTextWrap": false,
            "dsType": "prometheus",
            "editorMode": "code",
            "expr": "mem_available{host=\"$host\"}",
            "fullMetaSearch": false,
            "function": "mean",
            "groupBy": [
              {
                "interval": "auto",
                "params": [
                  "auto"
                ],
                "type": "time"
              },
              {
                "key": "host",
                "params": [
                  "tag"
                ],
                "type": "tag"
              }
            ],
            "includeNullMetadata": true,
            "legendFormat": "{{ __name__ }}",
            "measurement": "mem_inactive",
            "policy": "default",
            "range": true,
            "rawQuery": true,
            "refId": "A",
            "resultFormat": "time_series",
            "select": [
              [
                {
                  "params": [
                    "value"
                  ],
                  "type": "field"
                },
                {
                  "params": [],
                  "type": "mean"
                }
              ]
            ],
            "tags": [],
            "useBackend": false
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "mem_used{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "B"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "mem_cached{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "C"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "mem_free{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "D"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "editorMode": "code",
            "expr": "mem_buffered{host=\"$host\"}",
            "hide": false,
            "instant": false,
            "legendFormat": "{{ __name__ }}",
            "range": true,
            "refId": "E"
          }
        ],
        "title": "Memory usage",
        "type": "timeseries"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 34
        },
        "id": 62047,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество переключений в секунду процессора с одного процесса или потока на другой. Чем больше переключений, тем менее эффективно работает система. Большое количество указывает на высокую конкуренцию между процессами за процессорное время. Количество \u003e10000 в секунду можно считать опасным",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 35
            },
            "id": 61855,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "disableTextWrap": false,
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(kernel_context_switches{host=\"$host\"}[1m])",
                "fullMetaSearch": false,
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "includeNullMetadata": true,
                "legendFormat": "kernel_context_switches",
                "measurement": "processes",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "blocked"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ],
                "useBackend": false
              }
            ],
            "title": "Context switches",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Интенсивность создания новых процессов. Значение \u003e100 в секунду можно считать опасным. Может привести к исчерпанию лимита количества процессов в системе, усилить конкуренцию процессов за процессорное время и снизить эффективность работы системы",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 35
            },
            "id": 61960,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "disableTextWrap": false,
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(kernel_processes_forked{host=\"$host\"}[1m])",
                "fullMetaSearch": false,
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "includeNullMetadata": true,
                "legendFormat": "kernel_processes_forked",
                "measurement": "kernel",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "processes_forked"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ],
                "useBackend": false
              }
            ],
            "title": "Forks",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество файловых дескрипторов в системе (максимальное и открытое). Каждый процесс, сокет или канал имеет уникальный файловый дескриптор. Количество дескрипторов в системе ограничено. Исчерпание лимита файловых дескрипторов приведет к невозможности создания нового процесса или сокета. Количество \u003e10000 можно считать опасным",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/max/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/opened/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#0A437C",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 35
            },
            "id": 62042,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max",
                  "min"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "disableTextWrap": false,
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "linux_sysctl_fs_file\\-max{host=\"$host\"}",
                "fullMetaSearch": false,
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "includeNullMetadata": true,
                "legendFormat": "{{ __name__ }}",
                "measurement": "kernel",
                "orderByTime": "ASC",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "processes_forked"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ],
                "useBackend": false
              },
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "linux_sysctl_fs_file\\-nr{host=\"$host\"}",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "kernel",
                "orderByTime": "ASC",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "processes_forked"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "File descriptors",
            "type": "timeseries"
          }
        ],
        "title": "Kernel",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 35
        },
        "id": 62050,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество записей о соединениях в таблице conntrack. При переполнении таблицы новые соединения не будут создаваться",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/.*: max.*/"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "#890F02",
                        "mode": "fixed"
                      }
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 36
            },
            "id": 61991,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$server: current",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "conntrack_ip_conntrack_count{host=\"$host\"}",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "conntrack",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "ip_conntrack_count"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "conntrack_ip_conntrack_max{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Netfilter conntrack usage",
            "type": "timeseries"
          }
        ],
        "title": "Conntrack",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 36
        },
        "id": 62051,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество сетевых соединений в различных состояниях",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 37
            },
            "id": 61854,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "netstat_tcp_close{host=\"$host\"}",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_close_wait{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_closing{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_established{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "D"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_fin_wait1{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "E"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_fin_wait2{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "F"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_last_ack{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "G"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_syn_recv{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "H"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_syn_sent{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "I"
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "netstat_tcp_time_wait{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "J"
              }
            ],
            "title": "TCP connections",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Термин TCP aborts относится к ситуациям, когда TCP-соединение прерывается или завершается аварийно до того, как оно успешно завершит свою работу. Рост числа TCP aborts указывает на нестабильность работы сети или приложения",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 44
            },
            "id": 61969,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "on close",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortOnClose{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortOnClose"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "on data",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortOnData{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortOnData"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "timeout",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortOnTimeout{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortOnTimeout"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "failed",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortFailed{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortFailed"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "linger",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortOnLinger{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "E",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortOnLinger"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "memory",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtTCPAbortOnMemory{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "rawQuery": false,
                "refId": "F",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtTCPAbortOnMemory"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "TCP aborts",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Динамика количества открываемых TCP соединений",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ops"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 51
            },
            "id": 61968,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "right",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "estabresets",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_tcp_estabresets{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "net_tcp_estabresets",
                "measurement": "net",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "tcp_estabresets"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "outrsts",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_tcp_outrsts{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "net_tcp_outrsts",
                "measurement": "net",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "tcp_estabresets"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "activeopens",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_tcp_activeopens{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "net_tcp_activeopens",
                "measurement": "net",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "tcp_estabresets"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "passiveopens",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_tcp_passiveopens{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "net_tcp_passiveopens",
                "measurement": "net",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "tcp_estabresets"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "TCP handshake issues",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Динамика работы SYN cookie на сервере. Рост числа TcpExtSyncookiesFailed может указавать на попытку атаки на сервер с целью исчерпания числа сетевых соединений",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 58
            },
            "id": 61967,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0",
            "targets": [
              {
                "alias": "failed",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtSyncookiesFailed{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtSyncookiesFailed"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "received",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtSyncookiesRecv{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtSyncookiesRecv"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "sent",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_TcpExtSyncookiesSent{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "TcpExtSyncookiesSent"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "TCP SYN cookies",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика приема и передачи ICMP пакетов на хосте",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 58
            },
            "id": 61978,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0",
            "targets": [
              {
                "alias": "in echos",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpInEchos{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpInEchos"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out echos",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpOutEchos{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpOutEchos"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in echo responses",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpInEchoReps{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpInEchoReps"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out echo responses",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpOutEchoReps{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpOutEchoReps"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "ICMP packets",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок при приеме или отправке ICMP пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 58
            },
            "id": 61979,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0",
            "targets": [
              {
                "alias": "in errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpInErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpInErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpOutErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpOutErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "checksum errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IcmpInCsumErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IcmpInCsumErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "ICMP errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок при отправке или приеме IPv4 пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 65
            },
            "id": 61980,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0",
            "targets": [
              {
                "alias": "in discards",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpInDiscards{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpInDiscards"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out discards",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpOutDiscards{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpOutDiscards"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in hdr errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpInHdrErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpInHdrErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in addr errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpInAddrErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpInAddrErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out no routes",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpOutNoRoutes{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "E",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpOutNoRoutes"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in unknown protocol",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_IpInUnknownProtos{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "F",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "IpInUnknownProtos"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "IPv4 errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок при отправке или приеме IPv6 пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": "/in/"
                  },
                  "properties": [
                    {
                      "id": "custom.transform",
                      "value": "negative-Y"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsZero",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byValue",
                    "options": {
                      "op": "gte",
                      "reducer": "allIsNull",
                      "value": 0
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": true,
                        "tooltip": true,
                        "viz": false
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 65
            },
            "id": 61981,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [
                  "mean",
                  "lastNotNull",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "11.3.0",
            "targets": [
              {
                "alias": "in discards",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6InDiscards{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6InDiscards"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out discards",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6OutDiscards{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6OutDiscards"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in hdr errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6InHdrErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6InHdrErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in addr errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6InAddrErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6InAddrErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "out no routes",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6OutNoRoutes{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "E",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6OutNoRoutes"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in unknown protocol",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_Ip6InUnknownProtos{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "F",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "Ip6InUnknownProtos"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "IPv6 errors",
            "type": "timeseries"
          }
        ],
        "title": "Network stack (TCP)",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 37
        },
        "id": 62052,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика отправки и приема UDP пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 38
            },
            "id": 61893,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_udp_indatagrams{host=\"$host\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_udp_indatagrams",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_udp_outdatagrams{host=\"$host\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_udp_outdatagrams",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "UDP datagrams",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок принятия или отправки UDP пакетов в результате невозможности выделения памяти в буфере.  Ошибки возникают, когда буфер переполнен, когда сеть перегружена или когда приложение генерирует больше UDP пакетов, чем сеть может пропустить",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 45
            },
            "id": 61989,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "Send buffer errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_UdpSndbufErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "nstat_UdpSndbufErrors",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "UdpSndbufErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "Receive buffer errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_UdpRcvbufErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "nstat_UdpRcvbufErrors",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "UdpRcvbufErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "UDP buffer errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок приема UDP пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 45
            },
            "id": 61990,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "checksum errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_UdpInCsumErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "nstat_UdpInCsumErrors",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "UdpInCsumErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "in errors",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_UdpInErrors{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "nstat_UdpInErrors",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "D",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "UdpInErrors"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              },
              {
                "alias": "no ports",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(nstat_UdpNoPorts{host=\"$host\"}[1m])",
                "groupBy": [
                  {
                    "params": [
                      "$interval"
                    ],
                    "type": "time"
                  },
                  {
                    "params": [
                      "null"
                    ],
                    "type": "fill"
                  }
                ],
                "legendFormat": "nstat_UdpNoPorts",
                "measurement": "nstat",
                "policy": "default",
                "range": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "UdpNoPorts"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    },
                    {
                      "params": [
                        "1s"
                      ],
                      "type": "non_negative_derivative"
                    }
                  ]
                ],
                "tags": [
                  {
                    "key": "host",
                    "operator": "=~",
                    "value": "/^$server$/"
                  }
                ]
              }
            ],
            "title": "UDP errors",
            "type": "timeseries"
          }
        ],
        "title": "Network stack (UDP)",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 38
        },
        "id": 62053,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика приема и передачи данных (в битах) по сети",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 39
            },
            "id": 42026,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_bytes_recv{host=\"$host\", interface=\"$netif\"}[1m]) * 8",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_bytes_recv",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_bytes_sent{host=\"$host\", interface=\"$netif\"}[1m]) * 8",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_bytes_sent",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Network Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика приема и передачи сетевых пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 39
            },
            "id": 28572,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_packets_recv{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_packets_recv",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_packets_sent{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_packets_sent",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Network Packets",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика дропов (отброски) пакетов на приеме или при передаче",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 46
            },
            "id": 58901,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_drop_in{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_drop_in",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_drop_out{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_drop_out",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Network drops",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика ошибок приема и передачи сетевых пакетов",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 46
            },
            "id": 50643,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_err_in{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_err_in",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_interface: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(net_err_out{host=\"$host\", interface=\"$netif\"}[1m])",
                "function": "derivative",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "interface",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "net_err_out",
                "measurement": "net_bytes_recv",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Network errors",
            "type": "timeseries"
          }
        ],
        "repeat": "netif",
        "title": "Network interface stats for $netif",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 40
        },
        "id": 62054,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика чтения и записи данных в SWAP",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 41
            },
            "id": 26024,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(swap_in{host=\"$host\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "swap_in",
                "measurement": "swap_in",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "rate(swap_out{host=\"$host\"}[1m])",
                "hide": false,
                "instant": false,
                "legendFormat": "swap_out",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Swap I/O bytes",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Максимальный размер SWAP и размер данных, записанных в SWAP (в память). Исчерпание SWAP может привести к нарушению работы сисемы. Необходимо контролировать размер SWAP, чтобы он не переполнялся",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 41
            },
            "id": 61850,
            "interval": "$inter",
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "swap_total{host=\"$host\"}",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "swap_total",
                "measurement": "swap_in",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "swap_used{host=\"$host\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Swap usage (bytes)",
            "type": "timeseries"
          }
        ],
        "title": "Swap",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 41
        },
        "id": 62055,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика количества запросов к диску на чтение и запись ",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 0,
              "y": 42
            },
            "id": 13782,
            "interval": "$inter",
            "maxPerRow": 6,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_reads{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_reads",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_writes{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_writes",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Disk I/O requests for /dev/$disk",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Скорость чтения и записи данных на диск",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 8,
              "y": 42
            },
            "id": 60200,
            "interval": "$inter",
            "maxPerRow": 6,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_read_bytes{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_read_bytes",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_write_bytes{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_write_bytes",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "C",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Disk I/O bytes for /dev/$disk",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Статистика времени чтения и записи данных на диск",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 8,
              "x": 16,
              "y": 42
            },
            "id": 56720,
            "interval": "$inter",
            "maxPerRow": 6,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_read_time{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_read_time",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: $tag_name: $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "rate(diskio_write_time{host=\"$host\", name=\"$disk\"}[1m])",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "diskio_write_time",
                "measurement": "io_reads",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Disk I/O time for /dev/$disk",
            "type": "timeseries"
          }
        ],
        "repeat": "disk",
        "title": "Disk IOPS for /dev/$disk",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 42
        },
        "id": 62056,
        "panels": [
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество данных, записанных  раздел диска и максимальный размер раздела диска. В случае переполнения размера диска возникнет авария. Необходимо контролировать размер раздела диска и не допускать его переполнения",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 0,
              "y": 43
            },
            "id": 52240,
            "interval": "$inter",
            "maxPerRow": 4,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: mountpoint $tag_path - $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "disk_total{host=\"$host\", path=\"$mountpoint\"}",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "{{ __name__ }}",
                "measurement": "disk_total",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "editorMode": "code",
                "expr": "disk_used{host=\"$host\", path=\"$mountpoint\"}",
                "hide": false,
                "instant": false,
                "legendFormat": "{{ __name__ }}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Disk usage for $mountpoint",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "victoriametrics-metrics-datasource",
              "uid": "peeper-metrics"
            },
            "description": "Количество использованных inode и максимальное количество inode. Файловая система может исчерпать доступные inode, даже если есть свободное место на диске. Это происходит, если создается большое количество маленьких файлов. Решение: Увеличить количество inode при создании файловой системы или удалить ненужные файлы.",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": 0
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 7,
              "w": 12,
              "x": 12,
              "y": 43
            },
            "id": 33458,
            "interval": "$inter",
            "maxPerRow": 4,
            "options": {
              "dataLinks": [],
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "12.1.0",
            "targets": [
              {
                "alias": "$tag_host: mountpoint $tag_path - $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "disk_inodes_used{host=\"$host\", path=\"$mountpoint\"}",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "disk_inodes_used",
                "measurement": "disk_inodes_free",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "B",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              },
              {
                "alias": "$tag_host: mountpoint $tag_path - $col",
                "datasource": {
                  "type": "victoriametrics-metrics-datasource",
                  "uid": "peeper-metrics"
                },
                "dsType": "prometheus",
                "editorMode": "code",
                "expr": "disk_inodes_free{host=\"$host\", path=\"$mountpoint\"} + disk_inodes_used{host=\"$host\", path=\"$mountpoint\"}",
                "function": "mean",
                "groupBy": [
                  {
                    "interval": "auto",
                    "params": [
                      "auto"
                    ],
                    "type": "time"
                  },
                  {
                    "key": "host",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  },
                  {
                    "key": "path",
                    "params": [
                      "tag"
                    ],
                    "type": "tag"
                  }
                ],
                "legendFormat": "disk_inodes_free",
                "measurement": "disk_inodes_free",
                "policy": "default",
                "range": true,
                "rawQuery": true,
                "refId": "A",
                "resultFormat": "time_series",
                "select": [
                  [
                    {
                      "params": [
                        "value"
                      ],
                      "type": "field"
                    },
                    {
                      "params": [],
                      "type": "mean"
                    }
                  ]
                ],
                "tags": []
              }
            ],
            "title": "Disk inodes for $mountpoint",
            "type": "timeseries"
          }
        ],
        "repeat": "mountpoint",
        "title": "Disk space usage for $mountpoint",
        "type": "row"
      }
    ],
    "preload": false,
    "refresh": "1m",
    "schemaVersion": 41,
    "tags": [
      "linux",
      "overview",
      "telegraf"
    ],
    "templating": {
      "list": [
        {
          "auto": true,
          "auto_count": 100,
          "auto_min": "30s",
          "current": {
            "text": "10s",
            "value": "10s"
          },
          "label": "Sampling",
          "name": "inter",
          "options": [
            {
              "selected": true,
              "text": "10s",
              "value": "10s"
            },
            {
              "selected": false,
              "text": "30s",
              "value": "30s"
            },
            {
              "selected": false,
              "text": "1m",
              "value": "1m"
            },
            {
              "selected": false,
              "text": "2m",
              "value": "2m"
            },
            {
              "selected": false,
              "text": "5m",
              "value": "5m"
            },
            {
              "selected": false,
              "text": "10m",
              "value": "10m"
            },
            {
              "selected": false,
              "text": "30m",
              "value": "30m"
            },
            {
              "selected": false,
              "text": "1h",
              "value": "1h"
            }
          ],
          "query": "10s,30s,1m,2m,5m,10m,30m,1h",
          "refresh": 2,
          "type": "interval"
        },
        {
          "current": {
            "text": "ws-eccm-test",
            "value": "ws-eccm-test"
          },
          "datasource": {
            "type": "victoriametrics-metrics-datasource",
            "uid": "peeper-metrics"
          },
          "definition": "label_values({host=~\".*\"}, host)",
          "includeAll": false,
          "label": "host",
          "name": "host",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values({host=~\".*\"}, host)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "All",
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "victoriametrics-metrics-datasource",
            "uid": "peeper-metrics"
          },
          "definition": "label_values(disk_free,path)",
          "includeAll": true,
          "label": "Mountpoint",
          "multi": true,
          "name": "mountpoint",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(disk_free,path)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "",
          "type": "query"
        },
        {
          "current": {
            "text": "All",
            "value": "$__all"
          },
          "datasource": {
            "type": "victoriametrics-metrics-datasource",
            "uid": "peeper-metrics"
          },
          "definition": "label_values(diskio_io_time,name)",
          "includeAll": true,
          "label": "Disk",
          "multi": true,
          "name": "disk",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(diskio_io_time,name)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "[a-z]d[\\D]$|nvme[\\d]n[\\d]$",
          "type": "query"
        },
        {
          "current": {
            "text": "All",
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "victoriametrics-metrics-datasource",
            "uid": "peeper-metrics"
          },
          "definition": "label_values(net_bytes_recv,interface)",
          "includeAll": true,
          "label": "Network interface",
          "multi": true,
          "name": "netif",
          "options": [],
          "query": {
            "qryType": 1,
            "query": "label_values(net_bytes_recv,interface)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          },
          "refresh": 1,
          "regex": "^(?!.*veth|all|tap).*$",
          "type": "query"
        }
      ]
    },
    "time": {
      "from": "now-1h",
      "to": "now"
    },
    "timepicker": {},
    "timezone": "browser",
    "title": "Linux system dashboard",
    "uid": "linux"
  }
}